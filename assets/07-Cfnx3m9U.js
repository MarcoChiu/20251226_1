import{r as c,j as s}from"./index-DXvaqpMq.js";const h=()=>{const[r,n]=c.useTransition(),[e,t]=c.useState("about"),[o,m]=c.useState([]),d=i=>{n(()=>{if(t(i),i==="posts"){const a=[];for(let l=0;l<2e3;l++)a.push(`Post #${l+1}`);m(a)}})};return s.jsxs("div",{className:"container py-5",children:[s.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[s.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[s.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[s.jsx("i",{className:"bi bi-hourglass-split me-3"}),"useTransition Hook"]}),s.jsx("p",{className:"lead mb-0",children:"過渡狀態 - 非緊急更新優先級控制"})]}),s.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),s.jsx("div",{className:"row mb-5",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("h2",{className:"h4 mb-4",children:[s.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"Hook 說明"]}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"主要用途"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"標記 UI 更新為非緊急過渡"}),s.jsx("li",{children:"優先處理緊急交互(輸入、點擊)"}),s.jsx("li",{children:"保持界面回應性"}),s.jsx("li",{children:"大數據渲染時維持流暢體驗"})]})]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-exclamation-triangle text-warning fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"注意事項"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"需要 React 18+ 並發模式"}),s.jsx("li",{children:"不同於 debounce，是降低優先級"}),s.jsx("li",{children:"不應用於受控輸入"}),s.jsx("li",{children:"Transition 可被中斷和取消"})]})]})]})})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-3",children:[s.jsx("i",{className:"bi bi-play-circle me-2"}),"互動範例"]}),s.jsxs("div",{className:"bg-light p-4 rounded-3",style:{minHeight:"400px"},children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("button",{onClick:()=>d("about"),className:`btn me-2 ${e==="about"?"btn-primary":"btn-light"}`,children:"About"}),s.jsx("button",{onClick:()=>d("posts"),className:`btn ${e==="posts"?"btn-primary":"btn-light"}`,children:"Posts (Slow)"})]}),s.jsxs("div",{className:"card position-relative",style:{height:"300px",overflow:"hidden"},children:[r&&s.jsx("div",{className:"position-absolute top-0 end-0 p-2 m-2 badge bg-warning text-dark z-3",children:"Loading... (UI still responsive)"}),s.jsxs("div",{className:"card-body overflow-auto h-100",children:[e==="about"&&s.jsx("p",{children:"這是關於頁面。切換很快。"}),e==="posts"&&s.jsx("ul",{className:"list-group list-group-flush",children:o.map((i,a)=>s.jsx("li",{className:"list-group-item",children:i},a))})]})]})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-3",children:[s.jsx("i",{className:"bi bi-code-slash me-2"}),"程式碼範例"]}),s.jsx("pre",{className:"bg-light p-4 rounded-3 overflow-auto",children:s.jsx("code",{children:`import { useTransition } from 'react';

function TabContainer() {
  const [isPending, startTransition] = useTransition();
  const [tab, setTab] = useState('about');

  function selectTab(nextTab) {
    startTransition(() => {
      setTab(nextTab);
    });
  }

  return (
    <>
      {isPending && <Spinner />}
      <Tabs activeTab={tab} onChange={selectTab} />
    </>
  );
}`})})]})})})}),s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm bg-light",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-3",children:[s.jsx("i",{className:"bi bi-lightbulb me-2 text-warning"}),"最佳實踐"]}),s.jsxs("div",{className:"row g-3",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),s.jsxs("div",{children:[s.jsx("strong",{children:"適用場景:"})," 視圖切換、大列表渲染"]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),s.jsxs("div",{children:[s.jsx("strong",{children:"搭配 Suspense:"})," 與 Suspense 完美配合"]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),s.jsxs("div",{children:[s.jsx("strong",{children:"Loading 指示:"})," 使用 isPending 顯示載入狀態"]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("i",{className:"bi bi-x-circle-fill text-danger me-2 mt-1"}),s.jsxs("div",{children:[s.jsx("strong",{children:"避免:"})," 受控表單輸入不應使用"]})]})})]})]})})})})]})};export{h as default};
