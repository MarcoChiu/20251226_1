import{r as i,j as e}from"./index-BEiEE2Na.js";function P(){const g=[{id:1,name:"iPhone 15 Pro",category:"æ‰‹æ©Ÿ",price:35900,stock:15},{id:2,name:"MacBook Pro",category:"ç­†é›»",price:72900,stock:8},{id:3,name:"iPad Air",category:"å¹³æ¿",price:19900,stock:20},{id:4,name:"AirPods Pro",category:"è€³æ©Ÿ",price:7990,stock:30},{id:5,name:"Apple Watch",category:"æ‰‹éŒ¶",price:12900,stock:12},{id:6,name:"Samsung S24",category:"æ‰‹æ©Ÿ",price:28900,stock:18},{id:7,name:"Dell XPS",category:"ç­†é›»",price:45900,stock:6},{id:8,name:"Sony WH-1000XM5",category:"è€³æ©Ÿ",price:10900,stock:25},{id:9,name:"iPad Pro",category:"å¹³æ¿",price:36900,stock:10},{id:10,name:"Galaxy Watch",category:"æ‰‹éŒ¶",price:8990,stock:15}],[n,N]=i.useState(""),[o,p]=i.useState("all"),[h,v]=i.useState("name"),[x,y]=i.useState("asc"),[t,u]=i.useState(1),j=5,r=i.useMemo(()=>{console.log("ðŸ”„ é‡æ–°è¨ˆç®—ç”¢å“åˆ—è¡¨...");let s=[...g];return n&&(s=s.filter(a=>a.name.toLowerCase().includes(n.toLowerCase()))),o!=="all"&&(s=s.filter(a=>a.category===o)),s.sort((a,c)=>{let d=0;switch(h){case"name":d=a.name.localeCompare(c.name);break;case"price":d=a.price-c.price;break;case"stock":d=a.stock-c.stock;break;default:d=0}return x==="asc"?d:-d}),s},[n,o,h,x]),m=i.useMemo(()=>(console.log("ðŸ“Š é‡æ–°è¨ˆç®—çµ±è¨ˆè³‡æ–™..."),{totalProducts:r.length,totalValue:r.reduce((s,a)=>s+a.price*a.stock,0),averagePrice:r.length>0?r.reduce((s,a)=>s+a.price,0)/r.length:0,totalStock:r.reduce((s,a)=>s+a.stock,0)}),[r]),f=i.useMemo(()=>[...new Set(g.map(a=>a.category))],[]),l=i.useMemo(()=>{const s=r.length,a=Math.ceil(s/j),c=(t-1)*j,d=c+j,w=r.slice(c,d);return{totalItems:s,totalPages:a,currentItems:w,startIndex:c,endIndex:Math.min(d,s)}},[r,t]);i.useEffect(()=>{u(1)},[n,o]);const b=s=>{u(s),window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-funnel-fill me-3"}),"useMemo - ç”¢å“æœå°‹èˆ‡æŽ’åº"]}),e.jsx("p",{className:"lead mb-0",children:"è³‡æ–™ç¯©é¸èˆ‡æ•ˆèƒ½å„ªåŒ–"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"åŠŸèƒ½èªªæ˜Ž"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"useMemo æ ¸å¿ƒ"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"å¿«å–è¨ˆç®—çµæžœ"}),e.jsx("li",{children:"é¿å…ä¸å¿…è¦çš„é‡è¤‡é‹ç®—"}),e.jsx("li",{children:"å„ªåŒ–æ•ˆèƒ½"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-sliders text-success fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"å¯¦ä½œåŠŸèƒ½"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"ç”¢å“æœå°‹ã€ç¯©é¸ã€æŽ’åº"}),e.jsx("li",{children:"çµ±è¨ˆè³‡æ–™è¨ˆç®—å¿«å–"}),e.jsx("li",{children:"åˆ†é åŠŸèƒ½"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-4",children:[e.jsx("i",{className:"bi bi-code-square me-2 text-primary"}),"äº’å‹•ç¯„ä¾‹"]}),e.jsxs("div",{className:"container mt-2",children:[e.jsx("div",{className:"card bg-light mb-4 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-subtitle mb-3",children:[e.jsx("i",{className:"bi bi-sliders me-2"}),"æŽ§åˆ¶é¢æ¿"]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsxs("label",{className:"form-label small text-muted",children:[e.jsx("i",{className:"bi bi-search me-1"}),"æœå°‹ç”¢å“"]}),e.jsx("input",{type:"text",className:"form-control",placeholder:"è¼¸å…¥ç”¢å“åç¨±...",value:n,onChange:s=>N(s.target.value)})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label small text-muted",children:[e.jsx("i",{className:"bi bi-folder me-1"}),"é¡žåˆ¥ç¯©é¸"]}),e.jsxs("select",{className:"form-select",value:o,onChange:s=>p(s.target.value),children:[e.jsx("option",{value:"all",children:"å…¨éƒ¨é¡žåˆ¥"}),f.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label small text-muted",children:[e.jsx("i",{className:"bi bi-sort-down me-1"}),"æŽ’åºæ–¹å¼"]}),e.jsxs("select",{className:"form-select",value:h,onChange:s=>v(s.target.value),children:[e.jsx("option",{value:"name",children:"åç¨±"}),e.jsx("option",{value:"price",children:"åƒ¹æ ¼"}),e.jsx("option",{value:"stock",children:"åº«å­˜"})]})]}),e.jsxs("div",{className:"col-md-2 mb-3",children:[e.jsxs("label",{className:"form-label small text-muted",children:[e.jsx("i",{className:"bi bi-arrow-down-up me-1"}),"é †åº"]}),e.jsxs("select",{className:"form-select",value:x,onChange:s=>y(s.target.value),children:[e.jsx("option",{value:"asc",children:"å‡å†ª â†‘"}),e.jsx("option",{value:"desc",children:"é™å†ª â†“"})]})]})]})]})}),e.jsxs("div",{className:"alert alert-info border-0 shadow-sm mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2"}),e.jsxs("small",{children:["é¡¯ç¤ºç¬¬ ",e.jsxs("strong",{children:[l.startIndex+1," - ",l.endIndex]})," é …ï¼Œ å…± ",e.jsx("strong",{children:l.totalItems})," å€‹ç”¢å“",l.totalPages>1&&` (ç¬¬ ${t} / ${l.totalPages} é )`]})]}),e.jsxs("div",{className:"row mb-4 g-3",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card bg-gradient text-white border-0 shadow-sm",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"card-subtitle mb-2 opacity-75",children:"ç”¢å“æ•¸é‡"}),e.jsx("h3",{className:"card-title mb-0",children:m.totalProducts})]}),e.jsx("i",{className:"bi bi-box-seam display-4 opacity-25"})]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card bg-gradient text-white border-0 shadow-sm",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"card-subtitle mb-2 opacity-75",children:"ç¸½åƒ¹å€¼"}),e.jsxs("h3",{className:"card-title mb-0",children:["NT$ ",m.totalValue.toLocaleString()]})]}),e.jsx("i",{className:"bi bi-cash-coin display-4 opacity-25"})]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card bg-gradient text-white border-0 shadow-sm",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"card-subtitle mb-2 opacity-75",children:"å¹³å‡åƒ¹æ ¼"}),e.jsxs("h3",{className:"card-title mb-0",children:["NT$ ",Math.round(m.averagePrice).toLocaleString()]})]}),e.jsx("i",{className:"bi bi-tags display-4 opacity-25"})]})})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"card bg-gradient text-white border-0 shadow-sm",style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)"},children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"card-subtitle mb-2 opacity-75",children:"ç¸½åº«å­˜"}),e.jsx("h3",{className:"card-title mb-0",children:m.totalStock})]}),e.jsx("i",{className:"bi bi-stack display-4 opacity-25"})]})})})})]}),e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"ç”¢å“åç¨±"}),e.jsx("th",{children:"é¡žåˆ¥"}),e.jsx("th",{className:"text-end",children:"åƒ¹æ ¼"}),e.jsx("th",{className:"text-end",children:"åº«å­˜"}),e.jsx("th",{className:"text-end",children:"å°è¨ˆ"})]})}),e.jsx("tbody",{children:l.currentItems.length>0?l.currentItems.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.id}),e.jsx("td",{className:"fw-bold",children:s.name}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-secondary",children:s.category})}),e.jsxs("td",{className:"text-end",children:["NT$ ",s.price.toLocaleString()]}),e.jsx("td",{className:"text-end",children:e.jsx("span",{className:`badge ${s.stock<10?"bg-danger":"bg-success"}`,children:s.stock})}),e.jsxs("td",{className:"text-end fw-bold",children:["NT$ ",(s.price*s.stock).toLocaleString()]})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"text-center text-muted py-5",children:"ðŸ˜• æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„ç”¢å“"})})})]})}),l.totalPages>1&&e.jsx("nav",{"aria-label":"åˆ†é å°Žèˆª",className:"mt-4",children:e.jsxs("ul",{className:"pagination justify-content-center",children:[e.jsx("li",{className:`page-item ${t===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>b(t-1),disabled:t===1,children:"ä¸Šä¸€é "})}),[...Array(l.totalPages)].map((s,a)=>{const c=a+1;return e.jsx("li",{className:`page-item ${t===c?"active":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>b(c),children:c})},c)}),e.jsx("li",{className:`page-item ${t===l.totalPages?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>b(t+1),disabled:t===l.totalPages,children:"ä¸‹ä¸€é "})})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-4",children:[e.jsx("i",{className:"bi bi-code-square me-2 text-success"}),"ç¨‹å¼ç¢¼ç¯„ä¾‹"]}),e.jsx("div",{className:"container mt-2",children:e.jsx("div",{className:"card bg-dark text-white mt-4",children:e.jsx("div",{className:"card-body",children:e.jsx("pre",{className:"mb-0",style:{fontSize:"0.85rem"},children:`// æœå°‹ã€ç¯©é¸ã€æŽ’åº
const filteredAndSortedProducts = useMemo(() => {
  let result = [...products];
  
  // 1. æœå°‹éŽæ¿¾
  if (searchTerm) {
    result = result.filter(product =>
      product.name.toLowerCase().includes(searchTerm.toLowerCase())
    );
  }
  
  // 2. é¡žåˆ¥ç¯©é¸
  if (categoryFilter !== 'all') {
    result = result.filter(product => 
      product.category === categoryFilter
    );
  }
  
  // 3. æŽ’åº
  result.sort((a, b) => {
    let compareValue = sortBy === 'name' 
      ? a.name.localeCompare(b.name)
      : a[sortBy] - b[sortBy];
    return sortOrder === 'asc' ? compareValue : -compareValue;
  });
  
  return result;
}, [searchTerm, categoryFilter, sortBy, sortOrder]);

// åˆ†é è¨ˆç®—
const paginationData = useMemo(() => {
  const totalPages = Math.ceil(filteredAndSortedProducts.length / itemsPerPage);
  const startIndex = (currentPage - 1) * itemsPerPage;
  const currentItems = filteredAndSortedProducts.slice(startIndex, startIndex + itemsPerPage);
  return { totalPages, currentItems, startIndex };
}, [filteredAndSortedProducts, currentPage]);`})})})})]})})})})]})}export{P as default};
