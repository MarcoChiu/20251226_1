import{r as l,j as e}from"./index-D_x0jVGn.js";function N(){const[a,t]=l.useState(""),[c,m]=l.useState(""),[o,i]=l.useState(!1),[d,n]=l.useState([]),h=s=>new Promise(r=>{setTimeout(()=>{const x=["Apple","Banana","Cherry","Date","Elderberry","Fig","Grape","Honeydew","Ice Cream","Juice","Kiwi","Lemon","Mango","Nectarine","Orange"].filter(u=>u.toLowerCase().includes(s.toLowerCase()));r(x)},500)});return l.useEffect(()=>{const s=setTimeout(()=>{m(a)},800);return()=>{clearTimeout(s)}},[a]),l.useEffect(()=>{c?(i(!0),h(c).then(s=>{n(s),i(!1)})):(n([]),i(!1))},[c]),e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-hourglass-split me-3"}),"é˜²æŠ–å‹•æœå°‹"]}),e.jsx("p",{className:"lead mb-0",children:"Debounce æŠ€è¡“èˆ‡æ€§èƒ½å„ªåŒ–"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"åŠŸèƒ½èªªæ˜"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"Debounce åŸç†"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"å»¶é²åŸ·è¡Œ"}),e.jsx("li",{children:"æ¸›å°‘è«‹æ±‚"}),e.jsx("li",{children:"setTimeout æ‡‰ç”¨"}),e.jsx("li",{children:"Cleanup æ©Ÿåˆ¶"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-search text-success fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"æ‡‰ç”¨å ´æ™¯"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"å³æ™‚æœå°‹"}),e.jsx("li",{children:"API è«‹æ±‚"}),e.jsx("li",{children:"è¼¸å…¥é©—è­‰"}),e.jsx("li",{children:"è‡ªå‹•å­˜æª”"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-4",children:[e.jsx("i",{className:"bi bi-code-square me-2 text-primary"}),"äº’å‹•ç¯„ä¾‹"]}),"                        ",e.jsx("p",{className:"mb-0",children:"ç•¶ä½ åœ¨è¼¸å…¥æ¡†é€£çºŒæ‰“å­—æ™‚ï¼Œä¸æœƒç«‹å³è§¸ç™¼æœå°‹ã€‚åªæœ‰åœæ­¢æ‰“å­—è¶…é 800ms å¾Œï¼Œæ‰æœƒåŸ·è¡Œ API è«‹æ±‚ã€‚é€™èƒ½å¤§å¹…æ¸›å°‘ä¸å¿…è¦çš„ä¼ºæœå™¨è² æ“”ã€‚"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label",children:"æœå°‹æ°´æœ"}),e.jsx("input",{type:"text",className:"form-control form-control-lg",placeholder:"è©¦è‘—å¿«é€Ÿè¼¸å…¥ 'apple'...",value:a,onChange:s=>t(s.target.value)}),e.jsxs("div",{className:"d-flex justify-content-between mt-2 small text-muted",children:[e.jsxs("span",{children:["å³ä½¿è¼¸å…¥: ",a]}),e.jsx("span",{className:a!==c?"text-warning fw-bold":"text-success",children:a!==c?"â³ ç­‰å¾…ä¸­...":"âœ… å·²åŒæ­¥"}),e.jsxs("span",{children:["å¯¦éš›æœå°‹: ",c]})]})]}),e.jsx("hr",{}),o?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})}),e.jsx("p",{className:"mt-2 text-muted",children:"æœå°‹ä¸­..."})]}):e.jsx("div",{className:"list-group",children:d.length>0?d.map((s,r)=>e.jsxs("button",{type:"button",className:"list-group-item list-group-item-action",children:["ğŸ” ",s]},r)):c?e.jsx("div",{className:"text-center text-muted py-3",children:"æ‰¾ä¸åˆ°ç›¸ç¬¦çš„çµæœ ğŸ™…â€â™‚ï¸"}):e.jsx("div",{className:"text-center text-muted py-3",children:"è«‹è¼¸å…¥é—œéµå­—é–‹å§‹æœå°‹ âŒ¨ï¸"})})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h3",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-code-slash me-2 text-success"}),"ç¨‹å¼ç¢¼ç¯„ä¾‹"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"bg-light p-4 rounded-3",children:[e.jsx("h5",{className:"mb-3",children:"Debounce Hook å¯¦ä½œ"}),e.jsx("pre",{className:"bg-white p-3 rounded border mb-0",children:e.jsx("code",{children:`const [searchTerm, setSearchTerm] = useState('');
const [debouncedTerm, setDebouncedTerm] = useState('');

useEffect(() => {
  const timerId = setTimeout(() => {
    setDebouncedTerm(searchTerm);
  }, 800); // 800ms å»¶é²
  
  return () => {
    clearTimeout(timerId);
  };
}, [searchTerm]);

// ç•¶ debouncedTerm æ”¹è®Šæ™‚æ‰ç™¼é€ API
useEffect(() => {
  if (debouncedTerm) {
    searchAPI(debouncedTerm).then(setResults);
  }
}, [debouncedTerm]);`})})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"bg-light p-4 rounded-3",children:[e.jsx("h5",{className:"mb-3",children:"è‡ªè¨‚ useDebounce Hook"}),e.jsx("pre",{className:"bg-white p-3 rounded border mb-0",children:e.jsx("code",{children:`function useDebounce(value, delay) {
  const [debouncedValue, setDebouncedValue] = useState(value);
  
  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);
    
    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);
  
  return debouncedValue;
}

// ä½¿ç”¨
const [search, setSearch] = useState('');
const debouncedSearch = useDebounce(search, 500);`})})]})})]})]})})})}),e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h3",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-lightbulb me-2 text-warning"}),"æœ€ä½³å¯¦è¸"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-success",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h5",{className:"text-success mb-3",children:[e.jsx("i",{className:"bi bi-check-circle me-2"}),"å»ºè­°ä½œæ³•"]}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:"ä½¿ç”¨ useEffect cleanup æ¸…ç† timer"}),e.jsx("li",{children:"è¨­å®šåˆé©çš„å»¶é²æ™‚é–“ (300-800ms)"}),e.jsx("li",{children:"é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹æŒ‡ç¤º"}),e.jsx("li",{children:"ç©ºæœå°‹ä¸ç™¼é€ API è«‹æ±‚"}),e.jsx("li",{children:"å°è£ç‚ºå¯é‡ç”¨ Hook"})]})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-danger",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h5",{className:"text-danger mb-3",children:[e.jsx("i",{className:"bi bi-x-circle me-2"}),"é¿å…éŒ¯èª¤"]}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:"ä¸è¦å¿˜è¨˜æ¸…ç† timeout"}),e.jsx("li",{children:"é¿å…å»¶é²æ™‚é–“éçŸ­æˆ–éé•·"}),e.jsx("li",{children:"æ³¨æ„ç©ºå€¼è™•ç†"}),e.jsx("li",{children:"ä¸è¦åœ¨ cleanup ä¸­ä¿®æ”¹ç‹€æ…‹"}),e.jsx("li",{children:"è™•ç†çµ„ä»¶å¸è¼‰æƒ…æ³"})]})]})})})]})]})})})})]})}export{N as default};
