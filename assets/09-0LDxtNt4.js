import{r as l,j as e}from"./index-BgoDCxlK.js";const i={count:0,text:""};function r(s,c){switch(c.type){case"increment":return{...s,count:s.count+1};case"decrement":return{...s,count:s.count-1};case"setText":return{...s,text:c.payload};case"reset":return i;default:throw new Error}}const d=()=>{const[s,c]=l.useReducer(r,i);return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-arrow-down-up me-3"}),"useReducer Hook"]}),e.jsx("p",{className:"lead mb-0",children:"狀態減少器 - 複雜狀態邏輯管理"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"Hook 說明"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"主要用途"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"管理複雜的狀態邏輯"}),e.jsx("li",{children:"集中處理多個子值的狀態"}),e.jsx("li",{children:"通過 dispatch action 更新狀態"}),e.jsx("li",{children:"借鑑 Redux 的設計模式"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-exclamation-triangle text-warning fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"注意事項"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"Reducer 必須是純函式"}),e.jsx("li",{children:"不可直接修改 state，需返回新物件"}),e.jsx("li",{children:"簡單狀態優先使用 useState"}),e.jsx("li",{children:"action 應具有描述性的 type"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-play-circle me-2"}),"互動範例"]}),e.jsxs("div",{className:"bg-light p-4 rounded-3 text-center",children:[e.jsx("p",{className:"display-4 fw-bold text-primary mb-3",children:s.count}),e.jsxs("div",{className:"btn-group mb-4",children:[e.jsxs("button",{onClick:()=>c({type:"decrement"}),className:"btn btn-outline-danger",children:[e.jsx("i",{className:"bi bi-dash-lg"})," 減少"]}),e.jsxs("button",{onClick:()=>c({type:"increment"}),className:"btn btn-outline-success",children:[e.jsx("i",{className:"bi bi-plus-lg"})," 增加"]})]}),e.jsxs("div",{className:"mb-3 text-start",children:[e.jsx("input",{type:"text",value:s.text,onChange:a=>c({type:"setText",payload:a.target.value}),placeholder:"輸入文字...",className:"form-control"}),e.jsxs("p",{className:"text-muted mt-2",children:["當前文字: ",s.text]})]}),e.jsx("button",{onClick:()=>c({type:"reset"}),className:"btn btn-secondary w-100",children:"重置 (Reset)"})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-code-slash me-2"}),"程式碼範例"]}),e.jsx("pre",{className:"bg-light p-4 rounded-3 overflow-auto",children:e.jsx("code",{children:`import { useReducer } from 'react';

const initialState = { count: 0 };

function reducer(state, action) {
  switch (action.type) {
    case 'increment':
      return { count: state.count + 1 };
    case 'decrement':
      return { count: state.count - 1 };
    case 'reset':
      return initialState;
    default:
      throw new Error();
  }
}

function Counter() {
  const [state, dispatch] = useReducer(reducer, initialState);
  
  return (
    <>
      Count: {state.count}
      <button onClick={() => dispatch({type: 'increment'})}>+</button>
    </>
  );
}`})})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-lightbulb me-2 text-warning"}),"最佳實踐"]}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"適用場景:"})," 複雜狀態邏輯、多個子值"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"易測試:"})," Reducer 是純函式可獨立測試"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"可預測:"})," 相同輸入產生相同輸出"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-x-circle-fill text-danger me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"避免:"})," 簡單狀態過度使用"]})]})})]})]})})})})]})};export{d as default};
