import{r as l,j as s}from"./index-BEiEE2Na.js";import{M as m}from"./bootstrap.esm-G50tnjl1.js";function n(){const[c,r]=l.useState(0),a=l.useRef(0);return a.current+=1,s.jsx("div",{className:"card bg-light",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h6",{className:"card-subtitle mb-3",children:[s.jsx("i",{className:"bi bi-graph-up me-2"}),"æ¸²æŸ“æ¬¡æ•¸è¿½è¹¤ç¤ºç¯„"]}),s.jsxs("div",{className:"row align-items-center",children:[s.jsxs("div",{className:"col-md-6",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label small text-muted",children:"è¨ˆæ•¸å€¼ï¼ˆè§¸ç™¼æ¸²æŸ“ï¼‰"}),s.jsx("div",{className:"display-4 text-primary",children:c})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label small text-muted",children:"æ¸²æŸ“æ¬¡æ•¸ï¼ˆuseRef è¿½è¹¤ï¼‰"}),s.jsx("div",{className:"display-4 text-success",children:a.current})]})]}),s.jsxs("div",{className:"col-md-6",children:[s.jsxs("button",{className:"btn btn-primary btn-lg w-100",onClick:()=>r(c+1),children:[s.jsx("i",{className:"bi bi-plus-circle me-2"}),"å¢åŠ è¨ˆæ•¸"]}),s.jsxs("small",{className:"text-muted d-block mt-2",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"é–‹ç™¼æ¨¡å¼ä¸‹ StrictMode æœƒå°è‡´æ¸²æŸ“å…©æ¬¡"]})]})]})]})})}function h(){const c=l.useRef(null),r=l.useRef(null),[a,d]=l.useState("");l.useEffect(()=>{r.current=new m(c.current)},[]);const i=(e="")=>{d(e),r.current.show()},t=()=>{r.current.hide()};return s.jsxs("div",{className:"container py-5",children:[s.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[s.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[s.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[s.jsx("i",{className:"bi bi-box-arrow-up-right me-3"}),"useRef + Bootstrap Modal"]}),s.jsx("p",{className:"lead mb-0",children:"DOM åƒç…§èˆ‡ä¸è§¸ç™¼æ¸²æŸ“çš„ç‹€æ…‹"})]}),s.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),s.jsx("div",{className:"row mb-5",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("h2",{className:"h4 mb-4",children:[s.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"åŠŸèƒ½èªªæ˜"]}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"useRef ç‰¹æ€§"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"å»ºç«‹å¯è®Šçš„åƒç…§ç‰©ä»¶"}),s.jsx("li",{children:".current å±¬æ€§å¯å„²å­˜ä»»ä½•å€¼"}),s.jsx("li",{children:"å€¼æ”¹è®Šæ™‚ä¸è§¸ç™¼æ¸²æŸ“"})]})]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-lightning text-success fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"å¸¸è¦‹æ‡‰ç”¨"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"å­˜å– DOM å…ƒç´ åƒç…§"}),s.jsx("li",{children:"å„²å­˜ç¬¬ä¸‰æ–¹å‡½å¼åº«å¯¦ä¾‹"}),s.jsx("li",{children:"ä¿å­˜è¨ˆæ™‚å™¨ ID"}),s.jsx("li",{children:"è¿½è¹¤å‰ä¸€å€‹ç‹€æ…‹å€¼"})]})]})]})})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-4",children:[s.jsx("i",{className:"bi bi-code-square me-2 text-primary"}),"äº’å‹•ç¯„ä¾‹"]}),s.jsxs("div",{className:"container mt-2",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("h5",{className:"mb-3",children:[s.jsx("i",{className:"bi bi-images me-2"}),"ğŸ–¼ï¸ åœ–ç‰‡ç•«å»Šï¼ˆé»æ“Šé è¦½ï¼‰"]}),s.jsxs("div",{className:"row g-3",children:[s.jsx("div",{className:"col-md-3 col-sm-6",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>i("https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800"),onMouseEnter:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400",alt:"Mountain",className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),s.jsxs("div",{className:"card-body p-3",children:[s.jsxs("h6",{className:"card-title mb-1",children:[s.jsx("i",{className:"bi bi-image me-1"}),"å±±æ™¯"]}),s.jsx("p",{className:"card-text small text-muted mb-0",children:"é»æ“ŠæŸ¥çœ‹å¤§åœ–"})]})]})}),s.jsx("div",{className:"col-md-3 col-sm-6",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>i("https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=800"),onMouseEnter:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=400",alt:"Nature",className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),s.jsxs("div",{className:"card-body p-3",children:[s.jsxs("h6",{className:"card-title mb-1",children:[s.jsx("i",{className:"bi bi-image me-1"}),"è‡ªç„¶é¢¨å…‰"]}),s.jsx("p",{className:"card-text small text-muted mb-0",children:"é»æ“ŠæŸ¥çœ‹å¤§åœ–"})]})]})}),s.jsx("div",{className:"col-md-3 col-sm-6",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>i("https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=800"),onMouseEnter:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1470071459604-3b5ec3a7fe05?w=400",alt:"Sunset",className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),s.jsxs("div",{className:"card-body p-3",children:[s.jsxs("h6",{className:"card-title mb-1",children:[s.jsx("i",{className:"bi bi-image me-1"}),"æ—¥è½"]}),s.jsx("p",{className:"card-text small text-muted mb-0",children:"é»æ“ŠæŸ¥çœ‹å¤§åœ–"})]})]})}),s.jsx("div",{className:"col-md-3 col-sm-6",children:s.jsxs("div",{className:"card h-100 border-0 shadow-sm",style:{cursor:"pointer",transition:"all 0.3s ease"},onClick:()=>i("https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=800"),onMouseEnter:e=>e.currentTarget.style.transform="translateY(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=400",alt:"Forest",className:"card-img-top",style:{height:"200px",objectFit:"cover"}}),s.jsxs("div",{className:"card-body p-3",children:[s.jsxs("h6",{className:"card-title mb-1",children:[s.jsx("i",{className:"bi bi-image me-1"}),"æ£®æ—"]}),s.jsx("p",{className:"card-text small text-muted mb-0",children:"é»æ“ŠæŸ¥çœ‹å¤§åœ–"})]})]})})]})]}),s.jsx("div",{className:"d-grid mb-4",children:s.jsxs("button",{type:"button",className:"btn btn-outline-primary btn-lg",onClick:()=>i(),children:[s.jsx("i",{className:"bi bi-window me-2"}),"é–‹å•Ÿ Modal æ¸¬è©¦ï¼ˆç„¡åœ–ç‰‡ï¼‰"]})}),s.jsx("hr",{className:"my-4"}),s.jsx(n,{}),s.jsx("div",{className:"modal fade",ref:c,"aria-hidden":"true",children:s.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:s.jsxs("div",{className:"modal-content",children:[s.jsxs("div",{className:"modal-header bg-primary text-white",children:[s.jsx("h1",{className:"modal-title fs-5",children:a?"åœ–ç‰‡é è¦½":"Modal ç¤ºç¯„"}),s.jsx("button",{type:"button",className:"btn-close",onClick:t,"aria-label":"Close"})]}),s.jsx("div",{className:"modal-body text-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:a,alt:"Preview",className:"img-fluid mb-3",style:{maxHeight:"60vh",objectFit:"contain",borderRadius:"8px"}}),s.jsx("div",{className:"alert alert-info mt-3",children:s.jsxs("small",{children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),"ä½¿ç”¨ ",s.jsx("code",{children:"useRef"})," å„²å­˜ Modal å¯¦ä¾‹ï¼Œé€é ",s.jsx("code",{children:"selectedImage"})," state æ§åˆ¶é¡¯ç¤ºå…§å®¹"]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h5",{className:"mb-4",children:[s.jsx("i",{className:"bi bi-check2-circle me-2 text-success"}),"Bootstrap Modal æ•´åˆæ­¥é©Ÿ"]}),s.jsx("div",{className:"text-start",children:s.jsxs("div",{className:"list-group",children:[s.jsxs("div",{className:"list-group-item",children:[s.jsx("strong",{className:"text-success",children:"âœ… æ­¥é©Ÿ 1ï¼š"})," ä¿®æ”¹ class ç‚º className"]}),s.jsxs("div",{className:"list-group-item",children:[s.jsx("strong",{className:"text-success",children:"âœ… æ­¥é©Ÿ 2ï¼š"})," main.jsx åŒ¯å…¥ 'bootstrap'"]}),s.jsxs("div",{className:"list-group-item",children:[s.jsx("strong",{className:"text-success",children:"âœ… æ­¥é©Ÿ 3ï¼š"})," ä½¿ç”¨ useRef å„²å­˜ DOM åƒç…§"]}),s.jsxs("div",{className:"list-group-item",children:[s.jsx("strong",{className:"text-success",children:"âœ… æ­¥é©Ÿ 4ï¼š"})," ä½¿ç”¨ useEffect åˆå§‹åŒ– Modal å¯¦ä¾‹"]}),s.jsxs("div",{className:"list-group-item",children:[s.jsx("strong",{className:"text-success",children:"âœ… æ­¥é©Ÿ 5ï¼š"})," é€é state å‹•æ…‹æ§åˆ¶ Modal å…§å®¹"]})]})})]})}),s.jsxs("div",{className:"modal-footer",children:[s.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"é—œé–‰"}),!a&&s.jsx("button",{type:"button",className:"btn btn-primary",children:"å­˜æª”"})]})]})})})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-4",children:[s.jsx("i",{className:"bi bi-code-slash me-2 text-success"}),"ç¨‹å¼ç¢¼ç¯„ä¾‹"]}),s.jsx("div",{className:"container mt-2",children:s.jsx("div",{className:"card bg-dark text-white shadow",children:s.jsx("div",{className:"card-body",children:s.jsx("pre",{className:"mb-0",style:{fontSize:"0.85rem"},children:`// 1ï¸âƒ£ å»ºç«‹ ref å„²å­˜ DOM å’Œå¯¦ä¾‹
const modalRef = useRef(null);
const customerModal = useRef(null);

// 2ï¸âƒ£ ä½¿ç”¨ useEffect åˆå§‹åŒ– Modal
useEffect(() => {
  customerModal.current = new Modal(modalRef.current);
}, []);

// 3ï¸âƒ£ ä½¿ç”¨ ref è¿½è¹¤æ¸²æŸ“æ¬¡æ•¸ï¼ˆä¸è§¸ç™¼é‡æ¸²æŸ“ï¼‰
const renderCount = useRef(0);
renderCount.current += 1;

// 4ï¸âƒ£ æ§åˆ¶ Modal é¡¯ç¤º/éš±è—
const modalOpen = (imageUrl) => {
  setSelectedImage(imageUrl);
  customerModal.current.show();
};

const modalClose = () => {
  customerModal.current.hide();
};

// 5ï¸âƒ£ JSX ä¸­ä½¿ç”¨ ref
<div className="modal" ref={modalRef}>
  {/* Modal å…§å®¹ */}
</div>`})})})})]})})})})]})}export{h as default};
