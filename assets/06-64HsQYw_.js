import{r as s,j as e}from"./index-BgoDCxlK.js";const a=s.createContext(null),r=s.createContext(null),m=()=>{const i=s.useContext(a),c=s.useContext(r),l=i==="dark"?"btn-dark":"btn-light";return e.jsx("button",{className:`btn ${l} border`,children:c?`${c.name} 的按鈕`:"未登入"})},x=()=>e.jsxs("div",{className:"border p-3 m-2 rounded bg-white",children:[e.jsx("p",{className:"text-muted small mb-2",children:"Toolbar (中間組件)"}),e.jsx(m,{})]}),h=()=>{const[i,c]=s.useState("light"),[l,d]=s.useState({name:"Alice"}),t=()=>{c(n=>n==="light"?"dark":"light")};return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-diagram-3-fill me-3"}),"useContext Hook"]}),e.jsx("p",{className:"lead mb-0",children:"上下文共享 - 跨組件數據傳遞"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"Hook 說明"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"主要用途"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"訂閱 React Context 避免 Prop Drilling"}),e.jsx("li",{children:"全域狀態管理的基礎"}),e.jsx("li",{children:"祖先與深層子孫組件直接通信"}),e.jsx("li",{children:"共享主題、語言、使用者等全域資料"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-exclamation-triangle text-warning fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"注意事項"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"必須在 Provider 內部使用"}),e.jsx("li",{children:"Context 值改變時所有消費者都會重渲染"}),e.jsx("li",{children:"過度使用可能影響效能"}),e.jsx("li",{children:"適用於不常變動的全域資料"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-play-circle me-2"}),"互動範例"]}),e.jsxs("div",{className:"bg-light p-4 rounded-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("button",{onClick:t,className:"btn btn-outline-primary me-2",children:["切換主題 (",i,")"]}),e.jsxs("button",{onClick:()=>d({name:l.name==="Alice"?"Bob":"Alice"}),className:"btn btn-outline-success",children:["切換使用者 (",l.name,")"]})]}),e.jsx(a.Provider,{value:i,children:e.jsx(r.Provider,{value:l,children:e.jsx(x,{})})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-code-slash me-2"}),"程式碼範例"]}),e.jsx("pre",{className:"bg-light p-4 rounded-3 overflow-auto",children:e.jsx("code",{children:`import { createContext, useContext } from 'react';

const ThemeContext = createContext(null);

function App() {
  return (
    <ThemeContext.Provider value="dark">
      <Toolbar />
    </ThemeContext.Provider>
  );
}

function Toolbar() {
  const theme = useContext(ThemeContext);
  return <div>Current theme: {theme}</div>;
}`})})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-lightbulb me-2 text-warning"}),"最佳實踐"]}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"適用場景:"})," 主題、語言、使用者認證等全域狀態"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"效能優化:"})," 搭配 useMemo 避免不必要的重渲染"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"多個 Context:"})," 可以巢狀使用多個 Provider"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-x-circle-fill text-danger me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"避免:"})," 頻繁變動的資料應使用狀態管理庫"]})]})})]})]})})})})]})};export{h as default};
