import{j as e,r}from"./index-DXvaqpMq.js";const m=(s,a)=>{switch(a.type){case"INCREMENT":return{count:s.count+1};case"DECREMENT":return{count:s.count-1};case"INCREMENT_BY":return{count:s.count+a.payload};case"RESET":return{count:0};default:return s}};function h(){const[s,a]=r.useReducer(m,{count:0});return e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-subtitle mb-3",children:"ç°¡å–®è¨ˆæ•¸å™¨"}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("h2",{className:"display-4 text-primary",children:s.count})}),e.jsxs("div",{className:"d-flex gap-2 justify-content-center flex-wrap",children:[e.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>a({type:"INCREMENT"}),children:"+1"}),e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>a({type:"DECREMENT"}),children:"-1"}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>a({type:"INCREMENT_BY",payload:5}),children:"+5"}),e.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>a({type:"RESET"}),children:"é‡ç½®"})]})]})})}const x=(s,a)=>{switch(a.type){case"SET_FIELD":return{...s,[a.field]:a.value};case"RESET_FORM":return{username:"",email:"",password:"",age:""};case"SET_MULTIPLE":return{...s,...a.payload};default:return s}};function u(){const[s,a]=r.useReducer(x,{username:"",email:"",password:"",age:""}),t=n=>{n.preventDefault(),console.log("è¡¨å–®è³‡æ–™:",s),alert(`è¡¨å–®æäº¤æˆåŠŸï¼
ä½¿ç”¨è€…: ${s.username}
éƒµä»¶: ${s.email}`)},c=()=>{a({type:"SET_MULTIPLE",payload:{username:"testuser",email:"test@example.com",password:"password123",age:"25"}})};return e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-subtitle mb-3",children:"è¡¨å–®ç®¡ç†"}),e.jsxs("form",{onSubmit:t,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label small",children:"ä½¿ç”¨è€…åç¨±"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:s.username,onChange:n=>a({type:"SET_FIELD",field:"username",value:n.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label small",children:"é›»å­éƒµä»¶"}),e.jsx("input",{type:"email",className:"form-control form-control-sm",value:s.email,onChange:n=>a({type:"SET_FIELD",field:"email",value:n.target.value})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"form-label small",children:"å¯†ç¢¼"}),e.jsx("input",{type:"password",className:"form-control form-control-sm",value:s.password,onChange:n=>a({type:"SET_FIELD",field:"password",value:n.target.value})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label small",children:"å¹´é½¡"}),e.jsx("input",{type:"number",className:"form-control form-control-sm",value:s.age,onChange:n=>a({type:"SET_FIELD",field:"age",value:n.target.value})})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("button",{type:"submit",className:"btn btn-sm btn-primary",children:"æäº¤"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:()=>a({type:"RESET_FORM"}),children:"æ¸…ç©º"}),e.jsx("button",{type:"button",className:"btn btn-sm btn-info",onClick:c,children:"å¡«å…¥æ¸¬è©¦è³‡æ–™"})]})]})]})})}const p=(s,a)=>{switch(a.type){case"ADD_TODO":return{...s,todos:[...s.todos,{id:Date.now(),text:a.payload,completed:!1}]};case"TOGGLE_TODO":return{...s,todos:s.todos.map(t=>t.id===a.payload?{...t,completed:!t.completed}:t)};case"DELETE_TODO":return{...s,todos:s.todos.filter(t=>t.id!==a.payload)};case"CLEAR_COMPLETED":return{...s,todos:s.todos.filter(t=>!t.completed)};case"SET_FILTER":return{...s,filter:a.payload};default:return s}};function j(){const[s,a]=r.useReducer(p,{todos:[{id:1,text:"å­¸ç¿’ React",completed:!0},{id:2,text:"ç·´ç¿’ Hooks",completed:!1},{id:3,text:"å®Œæˆå°ˆæ¡ˆ",completed:!1}],filter:"all"}),[t,c]=r.useState(""),n=()=>{t.trim()&&(a({type:"ADD_TODO",payload:t}),c(""))},o=s.todos.filter(l=>s.filter==="active"?!l.completed:s.filter==="completed"?l.completed:!0),i={total:s.todos.length,active:s.todos.filter(l=>!l.completed).length,completed:s.todos.filter(l=>l.completed).length};return e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-subtitle mb-3",children:"å¾…è¾¦äº‹é …åˆ—è¡¨"}),e.jsxs("div",{className:"input-group mb-3",children:[e.jsx("input",{type:"text",className:"form-control form-control-sm",placeholder:"æ–°å¢žä»»å‹™...",value:t,onChange:l=>c(l.target.value),onKeyPress:l=>l.key==="Enter"&&n()}),e.jsx("button",{className:"btn btn-sm btn-primary",onClick:n,children:"æ–°å¢ž"})]}),e.jsxs("div",{className:"btn-group btn-group-sm mb-3 w-100",role:"group",children:[e.jsxs("button",{className:`btn ${s.filter==="all"?"btn-primary":"btn-outline-primary"}`,onClick:()=>a({type:"SET_FILTER",payload:"all"}),children:["å…¨éƒ¨ (",i.total,")"]}),e.jsxs("button",{className:`btn ${s.filter==="active"?"btn-primary":"btn-outline-primary"}`,onClick:()=>a({type:"SET_FILTER",payload:"active"}),children:["é€²è¡Œä¸­ (",i.active,")"]}),e.jsxs("button",{className:`btn ${s.filter==="completed"?"btn-primary":"btn-outline-primary"}`,onClick:()=>a({type:"SET_FILTER",payload:"completed"}),children:["å·²å®Œæˆ (",i.completed,")"]})]}),e.jsx("ul",{className:"list-group mb-3",children:o.map(l=>e.jsxs("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",checked:l.completed,onChange:()=>a({type:"TOGGLE_TODO",payload:l.id})}),e.jsx("label",{className:`form-check-label ${l.completed?"text-decoration-line-through text-muted":""}`,children:l.text})]}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>a({type:"DELETE_TODO",payload:l.id}),children:"âœ•"})]},l.id))}),i.completed>0&&e.jsx("button",{className:"btn btn-sm btn-warning w-100",onClick:()=>a({type:"CLEAR_COMPLETED"}),children:"æ¸…é™¤å·²å®Œæˆçš„ä»»å‹™"})]})})}const b=(s,a)=>{switch(a.type){case"ADD_ITEM":return s.items.find(c=>c.id===a.payload.id)?{...s,items:s.items.map(c=>c.id===a.payload.id?{...c,quantity:c.quantity+1}:c)}:{...s,items:[...s.items,{...a.payload,quantity:1}]};case"REMOVE_ITEM":return{...s,items:s.items.filter(c=>c.id!==a.payload)};case"UPDATE_QUANTITY":return{...s,items:s.items.map(c=>c.id===a.payload.id?{...c,quantity:Math.max(1,a.payload.quantity)}:c)};case"CLEAR_CART":return{...s,items:[]};case"APPLY_DISCOUNT":return{...s,discountCode:a.payload.code,discountPercent:a.payload.percent};default:return s}};function N(){const[s,a]=r.useReducer(b,{items:[],discountCode:null,discountPercent:0}),t=[{id:1,name:"iPhone 15",price:35900},{id:2,name:"iPad Air",price:19900},{id:3,name:"AirPods",price:7990},{id:4,name:"Apple Watch",price:12900}],c=s.items.reduce((l,d)=>l+d.price*d.quantity,0),n=c*(s.discountPercent/100),o=c-n,i=()=>{a({type:"APPLY_DISCOUNT",payload:{code:"SAVE10",percent:10}})};return e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-subtitle mb-3",children:"è³¼ç‰©è»Šç³»çµ±"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("strong",{className:"small",children:"å¯é¸å•†å“ï¼š"}),e.jsx("div",{className:"row g-2 mt-2",children:t.map(l=>e.jsx("div",{className:"col-6",children:e.jsxs("button",{className:"btn btn-sm btn-outline-success w-100",onClick:()=>a({type:"ADD_ITEM",payload:l}),children:[l.name,e.jsx("br",{}),e.jsxs("small",{children:["NT$ ",l.price.toLocaleString()]})]})},l.id))})]}),s.items.length===0?e.jsx("div",{className:"alert alert-secondary",children:"è³¼ç‰©è»Šæ˜¯ç©ºçš„"}):e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:"list-group mb-3",children:s.items.map(l=>e.jsxs("li",{className:"list-group-item",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsx("strong",{children:l.name}),e.jsx("br",{}),e.jsxs("small",{className:"text-muted",children:["NT$ ",l.price.toLocaleString()]})]}),e.jsxs("div",{className:"d-flex align-items-center gap-2",children:[e.jsx("input",{type:"number",className:"form-control form-control-sm",style:{width:"60px"},value:l.quantity,onChange:d=>a({type:"UPDATE_QUANTITY",payload:{id:l.id,quantity:parseInt(d.target.value)||1}}),min:"1"}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>a({type:"REMOVE_ITEM",payload:l.id}),children:"âœ•"})]})]}),e.jsx("div",{className:"text-end mt-1",children:e.jsxs("small",{className:"text-muted",children:["å°è¨ˆ: NT$ ",(l.price*l.quantity).toLocaleString()]})})]},l.id))}),!s.discountCode&&e.jsx("button",{className:"btn btn-sm btn-warning w-100 mb-3",onClick:i,children:"å¥—ç”¨æŠ˜æ‰£ç¢¼ SAVE10 (9æŠ˜)"}),e.jsx("div",{className:"card bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between mb-1",children:[e.jsx("span",{children:"å°è¨ˆ:"}),e.jsxs("span",{children:["NT$ ",c.toLocaleString()]})]}),s.discountCode&&e.jsxs("div",{className:"d-flex justify-content-between mb-1 text-success",children:[e.jsxs("span",{children:["æŠ˜æ‰£ (",s.discountCode,"):"]}),e.jsxs("span",{children:["-NT$ ",n.toLocaleString()]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("strong",{children:"ç¸½è¨ˆ:"}),e.jsxs("strong",{children:["NT$ ",o.toLocaleString()]})]})]})}),e.jsx("button",{className:"btn btn-sm btn-danger w-100 mt-3",onClick:()=>a({type:"CLEAR_CART"}),children:"æ¸…ç©ºè³¼ç‰©è»Š"})]})]})})}function v(){return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-arrow-repeat me-3"}),"useReducer - è¤‡é›œç‹€æ…‹ç®¡ç†"]}),e.jsx("p",{className:"lead mb-0",children:"ç‹€æ…‹é‚è¼¯åˆ†é›¢èˆ‡é›†ä¸­ç®¡ç†"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"åŠŸèƒ½èªªæ˜Ž"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"useReducer"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"ç®¡ç†è¤‡é›œçš„ç‹€æ…‹é‚è¼¯"}),e.jsx("li",{children:"é©åˆå¤šå€‹å­ç‹€æ…‹ç®¡ç†"}),e.jsx("li",{children:"Action èˆ‡ Dispatch æ¨¡å¼"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-lightning text-success fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"æ ¸å¿ƒæ¦‚å¿µ"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"Reducerï¼šç´”å‡½å¼ç‹€æ…‹æ›´æ–°"}),e.jsx("li",{children:"Actionï¼šæè¿°ç™¼ç”Ÿäº†ä»€éº¼"}),e.jsx("li",{children:"Dispatchï¼šç™¼é€ Action"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-4",children:[e.jsx("i",{className:"bi bi-code-square me-2 text-primary"}),"äº’å‹•ç¯„ä¾‹"]}),e.jsxs("div",{className:"container mt-2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"ðŸ“Š ç¯„ä¾‹ 1: ç°¡å–®è¨ˆæ•¸å™¨"}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(h,{})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"alert alert-info h-100 d-flex align-items-center",children:e.jsxs("div",{children:[e.jsx("h6",{className:"alert-heading",children:"æŠ€è¡“èªªæ˜Ž"}),e.jsx("small",{children:"å±•ç¤º useReducer çš„åŸºæœ¬ç”¨æ³•ï¼Œé€éŽä¸åŒçš„ action type ä¾†åŸ·è¡Œä¸åŒçš„ç‹€æ…‹æ›´æ–°ã€‚ ä½¿ç”¨ payload å‚³éžé¡å¤–è³‡æ–™ï¼ˆå¦‚ +5 åŠŸèƒ½ï¼‰ã€‚"})]})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"ðŸ“ ç¯„ä¾‹ 2: è¡¨å–®ç®¡ç†"}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(u,{})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"alert alert-info h-100 d-flex align-items-center",children:e.jsxs("div",{children:[e.jsx("h6",{className:"alert-heading",children:"æŠ€è¡“èªªæ˜Ž"}),e.jsx("small",{children:"ä½¿ç”¨ useReducer ç®¡ç†å¤šå€‹è¡¨å–®æ¬„ä½ï¼Œé¿å…ä½¿ç”¨å¤šå€‹ useStateã€‚ æ”¯æ´å–®ä¸€æ¬„ä½æ›´æ–°ã€æ•´å€‹è¡¨å–®é‡ç½®ã€æ‰¹æ¬¡æ›´æ–°å¤šå€‹æ¬„ä½ã€‚"})]})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"âœ… ç¯„ä¾‹ 3: å¾…è¾¦äº‹é …åˆ—è¡¨"}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(j,{})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"alert alert-info h-100 d-flex align-items-center",children:e.jsxs("div",{children:[e.jsx("h6",{className:"alert-heading",children:"æŠ€è¡“èªªæ˜Ž"}),e.jsx("small",{children:"ç®¡ç†å¾…è¾¦äº‹é …çš„æ–°å¢žã€åˆ‡æ›ã€åˆªé™¤å’Œç¯©é¸ã€‚ ç‹€æ…‹åŒ…å« todos é™£åˆ—å’Œ filter å­—ä¸²ï¼Œå±•ç¤ºå¦‚ä½•è™•ç†è¤‡é›œçš„ç‹€æ…‹çµæ§‹ã€‚"})]})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{children:"ðŸ›’ ç¯„ä¾‹ 4: è³¼ç‰©è»Šç³»çµ±"}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(N,{})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"alert alert-info h-100 d-flex align-items-center",children:e.jsxs("div",{children:[e.jsx("h6",{className:"alert-heading",children:"æŠ€è¡“èªªæ˜Ž"}),e.jsx("small",{children:"å®Œæ•´çš„è³¼ç‰©è»ŠåŠŸèƒ½ï¼šæ–°å¢žå•†å“ã€ç§»é™¤å•†å“ã€æ›´æ–°æ•¸é‡ã€å¥—ç”¨æŠ˜æ‰£ã€‚ å±•ç¤ºå¦‚ä½•è™•ç†æ¢ä»¶é‚è¼¯ï¼ˆå¦‚æª¢æŸ¥å•†å“æ˜¯å¦å·²å­˜åœ¨ï¼‰ã€‚ è¨ˆç®—ç¸½åƒ¹ã€æŠ˜æ‰£ç­‰è¡ç”Ÿè³‡æ–™ã€‚"})]})})})]})]})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-4",children:[e.jsx("i",{className:"bi bi-code-slash me-2 text-success"}),"ç¨‹å¼ç¢¼ç¯„ä¾‹"]}),e.jsx("div",{className:"container mt-2",children:e.jsx("div",{className:"card bg-dark text-white",children:e.jsx("div",{className:"card-body",children:e.jsx("pre",{className:"mb-0",style:{fontSize:"0.85rem"},children:`// 1. å®šç¾© reducer å‡½å¼
const counterReducer = (state, action) => {
  switch (action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    case 'DECREMENT':
      return { count: state.count - 1 };
    case 'INCREMENT_BY':
      return { count: state.count + action.payload };
    case 'RESET':
      return { count: 0 };
    default:
      return state;
  }
};

// 2. ä½¿ç”¨ useReducer
const [state, dispatch] = useReducer(counterReducer, { count: 0 });

// 3. è§¸ç™¼ç‹€æ…‹æ›´æ–°
dispatch({ type: 'INCREMENT' });
dispatch({ type: 'INCREMENT_BY', payload: 5 });
dispatch({ type: 'RESET' });`})})})})]})})})})]})}export{v as default};
