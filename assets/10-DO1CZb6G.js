import{r as c,j as e}from"./index-BEiEE2Na.js";const r=({text:s})=>{const i=c.useMemo(()=>{const l=[];for(let a=0;a<2e3;a++)l.push(e.jsxs("li",{className:"list-group-item text-muted small",children:['Match for "',s,'": Item #',a]},a));return l},[s]);return e.jsxs("div",{className:"card mt-3",children:[e.jsxs("div",{className:"card-header bg-light",children:['Results for "',s,'"']}),e.jsx("ul",{className:"list-group list-group-flush",style:{maxHeight:"200px",overflowY:"auto"},children:i})]})},t=()=>{const[s,i]=c.useState(""),l=c.useDeferredValue(s);return e.jsxs("div",{className:"container py-5",children:[e.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[e.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[e.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[e.jsx("i",{className:"bi bi-clock-history me-3"}),"useDeferredValue Hook"]}),e.jsx("p",{className:"lead mb-0",children:"延遲值 - 智能延遲 UI 更新"})]}),e.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),e.jsx("div",{className:"row mb-5",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("h2",{className:"h4 mb-4",children:[e.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"Hook 說明"]}),e.jsxs("div",{className:"row g-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"主要用途"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"延遲更新 UI 的某個部分"}),e.jsx("li",{children:"與 React 渲染機制深度整合"}),e.jsx("li",{children:"保持輸入的即時回應性"}),e.jsx("li",{children:"延遲昂貴的重渲染"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-3",children:e.jsx("i",{className:"bi bi-exclamation-triangle text-warning fs-4"})})}),e.jsxs("div",{className:"flex-grow-1 ms-3",children:[e.jsx("h5",{className:"mb-2",children:"注意事項"}),e.jsxs("ul",{className:"text-muted mb-0",children:[e.jsx("li",{children:"需要 React 18+ 並發模式"}),e.jsx("li",{children:"類似 debounce 但更智能"}),e.jsx("li",{children:"可能產生過時狀態"}),e.jsx("li",{children:"適用於昂貴的組件渲染"})]})]})]})})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-play-circle me-2"}),"互動範例"]}),e.jsxs("div",{className:"bg-light p-4 rounded-3",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"form-label",children:"搜尋 (Type fast...):"}),e.jsx("input",{type:"text",value:s,onChange:a=>i(a.target.value),className:"form-control"})]}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"p-3 border rounded bg-white",children:[e.jsx("p",{className:"mb-1 fw-bold text-danger",children:"Immediate Value:"}),e.jsx("p",{className:"text-break",children:s||"(empty)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:`p-3 border rounded bg-white transition-opacity ${s!==l?"opacity-50":"opacity-100"}`,children:[e.jsx("p",{className:"mb-1 fw-bold text-primary",children:"Deferred Value:"}),e.jsx("p",{className:"text-break",children:l||"(empty)"})]})})]}),e.jsx(r,{text:l})]})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-code-slash me-2"}),"程式碼範例"]}),e.jsx("pre",{className:"bg-light p-4 rounded-3 overflow-auto",children:e.jsx("code",{children:`import { useState, useDeferredValue } from 'react';

function SearchResults() {
  const [query, setQuery] = useState('');
  const deferredQuery = useDeferredValue(query);
  
  return (
    <>
      <input 
        value={query} 
        onChange={e => setQuery(e.target.value)} 
      />
      {/* 使用延遲值渲染昂貴的列表 */}
      <SlowList text={deferredQuery} />
    </>
  );
}`})})]})})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card border-0 shadow-sm bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title mb-3",children:[e.jsx("i",{className:"bi bi-lightbulb me-2 text-warning"}),"最佳實踐"]}),e.jsxs("div",{className:"row g-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"適用場景:"})," 搜尋框配合大型列表"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"檢測過時:"})," query !== deferredQuery 顯示載入"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-check-circle-fill text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"搭配 memo:"})," 與 React.memo 配合效果更佳"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"d-flex align-items-start",children:[e.jsx("i",{className:"bi bi-x-circle-fill text-danger me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"避免:"})," 不是 debounce 的替代品"]})]})})]})]})})})})]})};export{t as default};
