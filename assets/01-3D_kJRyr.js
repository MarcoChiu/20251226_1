import{r as i,j as s}from"./index-D_x0jVGn.js";const m=({value:e,onChange:r})=>s.jsx("input",{type:"number",className:"form-control text-end",style:{width:"120px"},value:e,onChange:r}),v=({value:e,onChange:r})=>{const a=[{value:"+",label:"+"},{value:"-",label:"-"},{value:"*",label:"Ã—"},{value:"/",label:"Ã·"},{value:"%",label:"%"}];return s.jsx("select",{className:"form-select",style:{width:"80px"},value:e,onChange:r,children:a.map(n=>s.jsx("option",{value:n.value,children:n.label},n.value))})};function p(){const[e,r]=i.useState(10),[a,n]=i.useState(5),[t,u]=i.useState("+"),[o,j]=i.useState(0),d=l=>c=>{console.log("ğŸ”¢ handleNumberChange:",c.target.value),l(Number(c.target.value))},x=i.useMemo(()=>{const l={"+":e+a,"-":e-a,"*":e*a,"/":a!==0?(e/a).toFixed(2):"âš ï¸ éŒ¯èª¤","%":a!==0?e%a:"âš ï¸ éŒ¯èª¤"};return console.log("âœ… useMemo é‡æ–°è¨ˆç®—:",e,a,t),l[t]??0},[e,a,t]),[h,b]=i.useState([]),N=()=>{const l=`${e} ${t} ${a} = ${x}`;b(c=>[l,...c].slice(0,5))};return s.jsxs("div",{className:"container py-5",children:[s.jsxs("div",{className:"text-center mb-5 p-5 rounded-4 text-white position-relative overflow-hidden",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 10px 40px rgba(102, 126, 234, 0.3)"},children:[s.jsxs("div",{className:"position-relative",style:{zIndex:1},children:[s.jsxs("h1",{className:"display-4 fw-bold mb-3",children:[s.jsx("i",{className:"bi bi-calculator-fill me-3"}),"useState + useMemo è¨ˆç®—æ©Ÿ"]}),s.jsx("p",{className:"lead mb-0",children:"ç‹€æ…‹ç®¡ç†èˆ‡æ•ˆèƒ½å„ªåŒ–"})]}),s.jsx("div",{className:"position-absolute top-0 start-0 w-100 h-100",style:{background:"radial-gradient(circle at 20% 50%, rgba(255,255,255,0.1) 0%, transparent 50%)",zIndex:0}})]}),s.jsx("div",{className:"row mb-5",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body p-4",children:[s.jsxs("h2",{className:"h4 mb-4",children:[s.jsx("i",{className:"bi bi-info-circle me-2 text-primary"}),"åŠŸèƒ½èªªæ˜"]}),s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-primary bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-check2-circle text-primary fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"useState"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"ç®¡ç†å…ƒä»¶å…§éƒ¨ç‹€æ…‹"}),s.jsx("li",{children:"ç‹€æ…‹æ”¹è®Šè§¸ç™¼é‡æ–°æ¸²æŸ“"}),s.jsx("li",{children:"é©åˆç°¡å–®çš„ç‹€æ…‹ç®¡ç†"})]})]})]})}),s.jsx("div",{className:"col-md-6",children:s.jsxs("div",{className:"d-flex align-items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-3",children:s.jsx("i",{className:"bi bi-lightning text-success fs-4"})})}),s.jsxs("div",{className:"flex-grow-1 ms-3",children:[s.jsx("h5",{className:"mb-2",children:"useMemo"}),s.jsxs("ul",{className:"text-muted mb-0",children:[s.jsx("li",{children:"å¿«å–è¨ˆç®—çµæœ"}),s.jsx("li",{children:"é¿å…ä¸å¿…è¦çš„é‡è¤‡è¨ˆç®—"}),s.jsx("li",{children:"å„ªåŒ–æ•ˆèƒ½è¡¨ç¾"})]})]})]})})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-4",children:[s.jsx("i",{className:"bi bi-code-square me-2 text-primary"}),"äº’å‹•ç¯„ä¾‹"]}),s.jsxs("div",{className:"container mt-2",children:[s.jsx("div",{className:"card mb-4 shadow-sm",children:s.jsxs("div",{className:"card-body bg-light",children:[s.jsxs("div",{className:"row align-items-center justify-content-center g-3",children:[s.jsxs("div",{className:"col-auto",children:[s.jsx("label",{className:"form-label small text-muted mb-1",children:"ç¬¬ä¸€å€‹æ•¸å­—"}),s.jsx(m,{value:e,onChange:d(r)})]}),s.jsxs("div",{className:"col-auto",children:[s.jsx("label",{className:"form-label small text-muted mb-1",children:"é‹ç®—ç¬¦"}),s.jsx(v,{value:t,onChange:l=>u(l.target.value)})]}),s.jsxs("div",{className:"col-auto",children:[s.jsx("label",{className:"form-label small text-muted mb-1",children:"ç¬¬äºŒå€‹æ•¸å­—"}),s.jsx(m,{value:a,onChange:d(n)})]}),s.jsx("div",{className:"col-auto",children:s.jsxs("div",{className:"d-flex align-items-center",style:{marginTop:"24px"},children:[s.jsx("span",{className:"fs-3 fw-bold text-primary mx-2",children:"="}),s.jsx("span",{className:"fs-2 fw-bold text-success px-3 py-2 bg-white rounded border border-success",children:x})]})})]}),s.jsx("div",{className:"text-center mt-3",children:s.jsxs("button",{className:"btn btn-primary btn-sm",onClick:N,children:[s.jsx("i",{className:"bi bi-clock-history me-1"}),"åŠ å…¥æ­·å²è¨˜éŒ„"]})})]})}),s.jsxs("div",{className:"card mb-4 shadow-sm border-warning",children:[s.jsx("div",{className:"card-header bg-warning bg-opacity-10",children:s.jsxs("h6",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-flask me-2"}),"ğŸ§ª useMemo æ•ˆèƒ½æ¸¬è©¦"]})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("p",{className:"small text-muted mb-3",children:[s.jsx("strong",{children:"æ¸¬è©¦æ–¹æ³•ï¼š"}),"æ‰“é–‹ Consoleï¼Œä¿®æ”¹ä¸‹æ–¹è¼¸å…¥æ¡†ï¼Œè§€å¯Ÿæ˜¯å¦æœƒè§¸ç™¼ useMemo é‡æ–°è¨ˆç®—"]}),s.jsxs("div",{className:"d-flex align-items-center gap-3",children:[s.jsxs("label",{className:"form-label mb-0",children:[s.jsx("i",{className:"bi bi-exclamation-triangle-fill text-warning me-1"}),"æ¸¬è©¦æ•¸å­—ï¼ˆä¸åœ¨ä¾è³´é™£åˆ—ä¸­ï¼‰:"]}),s.jsx(m,{value:o,onChange:d(j)}),s.jsx("span",{className:"badge bg-secondary",children:o})]}),s.jsxs("div",{className:"alert alert-info mt-3 mb-0 small",children:[s.jsx("i",{className:"bi bi-info-circle me-1"}),s.jsx("strong",{children:"é æœŸçµæœï¼š"}),"ä¿®æ”¹æ­¤æ•¸å­—ä¸æœƒåœ¨ Console çœ‹åˆ°ã€ŒuseMemo é‡æ–°è¨ˆç®—ã€ï¼Œè­‰æ˜è¨ˆç®—è¢«å¿«å–äº†ï¼"]})]})]}),h.length>0&&s.jsxs("div",{className:"card mb-4 shadow-sm",children:[s.jsx("div",{className:"card-header bg-secondary bg-opacity-10",children:s.jsxs("h6",{className:"mb-0",children:[s.jsx("i",{className:"bi bi-clock-history me-2"}),"ğŸ“Š è¨ˆç®—æ­·å²è¨˜éŒ„"]})}),s.jsxs("div",{className:"card-body",children:[s.jsx("ul",{className:"list-group list-group-flush",children:h.map((l,c)=>s.jsxs("li",{className:"list-group-item",children:[s.jsx("span",{className:"badge bg-primary me-2",children:c+1}),s.jsx("code",{children:l})]},c))}),s.jsx("button",{className:"btn btn-sm btn-outline-danger mt-2",onClick:()=>b([]),children:"æ¸…é™¤æ­·å²"})]})]})]})]})})})}),s.jsx("div",{className:"row mb-4",children:s.jsx("div",{className:"col-12",children:s.jsx("div",{className:"card border-0 shadow-sm",children:s.jsxs("div",{className:"card-body",children:[s.jsxs("h3",{className:"card-title mb-4",children:[s.jsx("i",{className:"bi bi-code-slash me-2 text-success"}),"ç¨‹å¼ç¢¼ç¯„ä¾‹"]}),s.jsx("div",{className:"container mt-2",children:s.jsx("div",{className:"card bg-dark text-white shadow",children:s.jsx("div",{className:"card-body",children:s.jsx("pre",{className:"mb-0",style:{fontSize:"0.85rem"},children:`// 1ï¸âƒ£ useState å®£å‘Šç‹€æ…‹
const [fnum, setFnum] = useState(10);
const [operator, setOperator] = useState('+');

// 2ï¸âƒ£ useMemo å¿«å–è¨ˆç®—çµæœ
const result = useMemo(() => {
  const operations = {
    '+': fnum + lnum,
    '-': fnum - lnum,
    '*': fnum * lnum,
    '/': lnum !== 0 ? (fnum / lnum).toFixed(2) : 'âš ï¸ éŒ¯èª¤'
  };
  console.log('âœ… useMemo é‡æ–°è¨ˆç®—');
  return operations[operator] ?? 0;
}, [fnum, lnum, operator]); // åªåœ¨é€™äº›å€¼æ”¹è®Šæ™‚é‡ç®—

// 3ï¸âƒ£ é«˜éšå‡½å¼æ¨¡å¼
const handleNumberChange = (setter) => (e) => {
  setter(Number(e.target.value));
};

// 4ï¸âƒ£ ä½¿ç”¨æ–¹å¼
<NumberInput 
  value={fnum} 
  onChange={handleNumberChange(setFnum)} 
/>`})})})})]})})})})]})}export{p as default};
